<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery的靜態方法：map方法</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"></script>
    <script>

        /*
            一、原生js的map方法遍歷：
                - 可以遍歷陣列，但無法遍歷偽陣列。
                - 語法：
                    第一個參數：當前遍歷到的元素。
                    第二個參數：當前遍歷到的索引。
                    第三個參數：當前被遍歷的陣列。

                    陣列.map(function(value,index,array){
                        執行語句;
                    })
        */
       // js的map方法：
       // 陣列：
        let arr = [1,3,5,7,9];
        let res = arr.map(function(value,index,array){
            console.log(index,value,array);
            return index+value;
        });

        console.log(res);
        // (5) [1, 4, 7, 10, 13]

        console.log(" ");

        // 偽陣列
        // let obj = {1:1,2:3,3:5,4:7,5:9,length:5};
        // obj.map(function(value,index,array){
        //     console.log(index,value,array);
        //     return index+value;
        // });
        //報錯：Uncaught TypeError: obj.map is not a function

        console.log(" ");

        /*
            二、jQuery的map靜態方法：
                - 可以遍歷陣列，也可以遍歷偽陣列。
                - 語法：
                    第一個參數：陣列
                    第二個參數：回調函數
                        2-1.當前遍歷的元素。
                        2-2.當前遍歷的索引。

                    $.map(陣列,function(value,index){
                        語句;
                    })
        */
        // jQuery的map方法：
        // 陣列
        let arr2 = [2,4,6,8,10];
        let res2 = $.map(arr2,function(value,index){
                console.log(index,value);
                return index+value;
            });
        console.log(res2);
        // (5) [2, 5, 8, 11, 14]

        console.log(" ");

        // 偽陣列：
        let obj2 = {1:1,2:3,3:5,4:7,5:9,length:5};
        let res3 = $.map(obj2,function(value,index){
            console.log(index,value);
            return index+value;
        });
        console.log(res3);
        // (5) [NaN, 2, 5, 8, 11]

        /*
            三、jQuery中的each靜態方法與map靜態方法的區別：
                1.返回值：
                    - each靜態方法默認返回值就是「遍歷誰就返回誰」。
                    - map靜態方法默認返回值是一個空陣列。
                    - 例：
                        // each方法：遍歷誰就返回誰
                        let arr3 = [2,4,6,8,10];
                        let res4 = $.each(arr3,function(index,value){
                            console.log("$.each");
                        });
                        console.log(res4);
                        // (5) [2, 4, 6, 8, 10]

                        // map方法：返回一個空陣列
                        let res5 = $.map(arr3,function(value,index){
                            console.log("$.map");
                        });
                        console.log(res5);
                        // []

                2.對回調函數中遍歷的陣列進行處理：
                    - each靜態方法不支持在回調函數中對遍歷的陣列進行處理。
                    - map靜態方法可以在回調函數中通過return對遍歷的陣列
                      進行處理，然後返回一個新陣列。

        */
       // jQuery中的each靜態方法與map靜態方法的區別：
       // 1.返回值：
       // each方法：遍歷誰就返回誰
        let arr3 = [2,4,6,8,10];
        let res4 = $.each(arr3,function(index,value){
            console.log("$.each");
        });
        console.log(res4);
        // (5) [2, 4, 6, 8, 10]

        console.log(" ");

        // map方法：返回一個空陣列
        let res5 = $.map(arr3,function(value,index){
            console.log("$.map");
        });
        console.log(res5);
        // []

        console.log(" ");


        // 2.對回調函數中遍歷的陣列進行處理：
        // each方法：不支持
        let arr4 =[1,2,3,4,5];
        let res6 = $.each(arr4,function(index,value){
            console.log("$.each");
            return index+value;
        });
        console.log(res6);
        // (5) [1, 2, 3, 4, 5]

        console.log(" ");

        // map方法：支持
        let res7 = $.map(arr4,function(value,index){
            console.log("$.map");
            return index+value;
        });
        console.log(res7);
        // (5) [1, 3, 5, 7, 9]

    </script>
</head>
<body>

</body>
</html>